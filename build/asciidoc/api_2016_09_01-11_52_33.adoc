= Ways to Pay Apply API for the unassisted journey


[[_overview]]
== Overview
This Swagger spec describes all the functionality that the Ways to Pay RESTfull API for the unassisted journey exposes to the HTML frontend.


=== Version information
[%hardbreaks]
_Version_ : 0.0.1


=== Contact information
[%hardbreaks]
_Contact_ : Koen Peters
_Contact Email_ : koen@isaac.nl


=== URI scheme
[%hardbreaks]
_Host_ : apply.waystopay.dixons.co.uk
_BasePath_ : /api/v1
_Schemes_ : HTTPS


=== Produces

* `application/json`




[[_paths]]
== Resources

[[_address_resource]]
=== Address

[[_address_post]]
==== returns a list of address partials or a full address that match the search query
....
POST /address
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*query* +
_required_||<<_addresssearch,AddressSearch>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. A list of matching addresses is returned.|<<_addressmatch,AddressMatch>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/address"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "addressLines" : [ "string" ],
  "postCode" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "hasAddressMatch" : true,
  "address" : {
    "houseName" : "string",
    "houseNumber" : "32",
    "postCode" : "GU25 4EZ",
    "district" : "string",
    "county" : "Surrey",
    "isManualEntry" : true
  },
  "partialAddresses" : [ "string" ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_resource]]
=== Application

[[_application_get]]
==== returns the application information for the current application
....
GET /application
....


===== Description
This is a long textThis is a long textThis is a long textThis is a long textThis is a long textThis is a long textThis is a long textThis is a long textThis is a long text


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application"
----


====== Request header
[source,json]
----
"string"
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_delete]]
==== cancels the current application (clears the session)
....
DELETE /application
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application"
----


====== Request header
[source,json]
----
"string"
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_apply_put]]
==== updates the apply step information
....
PUT /application/apply
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_apply,Apply>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/apply"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "extendedPersonalDetails" : {
    "emailAddress" : "string",
    "telephone" : "string",
    "alternativeTelephone" : "string",
    "maritialStatus" : "string",
    "numberOfDependants" : 0
  },
  "bank" : {
    "accountNumber" : "string",
    "sortCode" : "string",
    "yearsAtBank" : 0
  },
  "extendedEmployment" : {
    "occupation" : "string",
    "employerName" : "string",
    "employerAddress" : {
      "houseName" : "string",
      "houseNumber" : "32",
      "postCode" : "GU25 4EZ",
      "district" : "string",
      "county" : "Surrey",
      "isManualEntry" : true
    },
    "employedYears" : 0,
    "personalIncome" : 0
  }
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_approved_get]]
==== indicates that the user wants to download the contract as a PDF
....
GET /application/approved
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The PDF is returned.|No Content
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/approved"
----


====== Request header
[source,json]
----
"string"
----


[[_application_approved_put]]
==== indicates that the user wants to start e-signing
....
PUT /application/approved
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/approved"
----


====== Request header
[source,json]
----
"string"
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_basket_put]]
==== updates the basket step information
....
PUT /application/basket
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_basket,Basket>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/basket"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "basketName" : "string",
  "products" : [ {
    "name" : "string",
    "quantity" : 0,
    "price" : 0
  } ]
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_continuelater_post]]
==== do everything that needs to be done to enable a S&R for the current application
....
POST /application/continueLater
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_continuelater,ContinueLater>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/continueLater"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "emailAddress" : "string",
  "telephone" : "string",
  "code" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_continuelater_get]]
==== Retrieve save and return info out for the current application
....
GET /application/continueLater
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned including values for "shortContinueLaterToken" and "longContinueLaterTokenNeedsSecurityCode".|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/continueLater"
----


====== Request header
[source,json]
----
"string"
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_customerselect_put]]
==== Sets the customer with the given id as the correctly recognized customer.
....
PUT /application/customerSelect
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*matchId* +
_required_||<<_application_customerselect_put_matchid,matchId>>|
|===

[[_application_customerselect_put_matchid]]
*matchId*

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*id* +
_required_|One of the ids as provided in the "matchingCustomers" of the /application/eligibility call +
*Example* : `"string"`|string
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/customerSelect"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "id" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_eligibility_put]]
==== updates the eligibility step information
....
PUT /application/eligibility
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_eligibility,Eligibility>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/eligibility"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "basicPersonalDetails" : {
    "title" : "string",
    "forename" : "string",
    "surname" : "string",
    "dateOfBirth" : "string"
  },
  "residentialStatus" : "string",
  "currentAddress" : {
    "houseName" : "string",
    "houseNumber" : "string",
    "postCode" : "string",
    "streetName" : "string",
    "district" : "string",
    "town" : "string",
    "county" : "string",
    "timeAtAddress" : 0,
    "isManualEntry" : true
  },
  "firstPreviousAddress" : {
    "houseName" : "string",
    "houseNumber" : "string",
    "postCode" : "string",
    "streetName" : "string",
    "district" : "string",
    "town" : "string",
    "county" : "string",
    "timeAtAddress" : 0,
    "isManualEntry" : true
  },
  "secondPreviousAddress" : {
    "houseName" : "string",
    "houseNumber" : "string",
    "postCode" : "string",
    "streetName" : "string",
    "district" : "string",
    "town" : "string",
    "county" : "string",
    "timeAtAddress" : 0,
    "isManualEntry" : true
  },
  "basicEmployment" : {
    "employmentStatus" : "string",
    "grossAnnualHouseholdIncome" : 0
  }
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_plan_put]]
==== updates the plan (flexometer) step information
....
PUT /application/plan
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_plan,Plan>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/plan"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "totalCashPrice" : 0,
  "months" : 0,
  "deferredPayment" : true,
  "deposit" : 0,
  "creditLimit" : 0,
  "creditProductCode" : "string",
  "monthlyPayment" : 0,
  "totalCredit" : 0,
  "planEndDate" : "string",
  "monthlyRate" : 0.0
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_review_put]]
==== updates all the info in the review step in one go
....
PUT /application/review
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_review,Review>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/review"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "deliveryOfGoods" : "string",
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  }
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_securitycode_post]]
==== sends the security code that the user had to fill in before he could continue the application
....
POST /application/securityCode
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_securitycode,SecurityCode>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/securityCode"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "code" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_sms_post]]
==== sends the SMS token challenge to the server
....
POST /application/sms
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_sms,Sms>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/sms"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "token" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_uru_put]]
==== updates the uru step information
....
PUT /application/uru
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_uru,Uru>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/uru"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "card" : {
    "cardholderName" : "string",
    "cardType" : "string",
    "cardNumber" : "string",
    "expiryDate" : "string",
    "cardSecurityCode" : "string"
  },
  "proofOfIdentity" : {
    "category" : "string"
  }
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


[[_application_ururepeatspend_put]]
==== Send the URU information for the repeat spend URU post review step. Differs from the /uru endpoint in that it does not include the proofOfId information
....
PUT /application/uruRepeatSpend
....


===== Parameters

[options="header", cols=".^2,.^3,.^9,.^4,.^2"]
|===
|Type|Name|Description|Schema|Default
|*Header*|*__RequestVerificationToken* +
_required_|The CSRF token that is set in the HTML and used in all ajax requests|string|
|*Header*|*autoSaveToken* +
_required_|The cookie that contains the short lived auto save token|string|
|*Header*|*blackbox* +
_required_|Contains hashed blackbox value for device fingerprinting|string|
|*Header*|*sessionId* +
_required_|The cookie that contains the session id|string|
|*Header*|*ssoToken* +
_optional_|The cookie that contains the SSO token set by the OAM|string|
|*Body*|*application* +
_required_||<<_card,Card>>|
|===


===== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|*200*|The request was successful. The current state of the application is returned.|<<_state,State>>
|*400*|The request failed due to incorrect data that the user sent.|<<_error,Error>>
|*401*|The user is not logged in|<<_error,Error>>
|*403*|The user is logged in but does not have the correct role to do this call|<<_error,Error>>
|*500*|The request failed due to a server runtime error. It's not the user's fault.|<<_error,Error>>
|===


===== Example HTTP request

====== Request path
[source,json]
----
"/application/uruRepeatSpend"
----


====== Request header
[source,json]
----
"string"
----


====== Request body
[source,json]
----
{
  "cardholderName" : "string",
  "cardType" : "string",
  "cardNumber" : "string",
  "expiryDate" : "string",
  "cardSecurityCode" : "string"
}
----


===== Example HTTP response

====== Response 200
[source,json]
----
{
  "currentPage" : "string",
  "redirectUrl" : "string",
  "isRepeatSpend" : true,
  "isPaymentPending" : true,
  "isClickAndCollect" : true,
  "authType" : "string",
  "shortContinueLaterToken" : "string",
  "shortContinueLaterTokenAsBarcodeUrl" : "string",
  "longContinueLaterTokenNeedsSecurityCode" : true,
  "matchingCustomers" : [ {
    "id" : "string",
    "fullName" : "string",
    "dateOfBirth" : "string",
    "address" : "string"
  } ],
  "existingPlans" : {
    "totalBalance" : 0,
    "balanceClearDate" : "string",
    "startDateOfChart" : "string",
    "graphData" : [ {
      "customTitle" : "string",
      "monthlyPayments" : [ 0 ],
      "futureBalance" : [ 0 ]
    } ]
  },
  "basket" : {
    "basketName" : "string",
    "products" : [ {
      "name" : "string",
      "quantity" : 0,
      "price" : 0
    } ]
  },
  "plan" : {
    "totalCashPrice" : 0,
    "months" : 0,
    "deferredPayment" : true,
    "deposit" : 0,
    "creditLimit" : 0,
    "creditProductCode" : "string",
    "monthlyPayment" : 0,
    "totalCredit" : 0,
    "planEndDate" : "string",
    "monthlyRate" : 0.0
  },
  "eligibility" : {
    "basicPersonalDetails" : {
      "title" : "string",
      "forename" : "string",
      "surname" : "string",
      "dateOfBirth" : "string"
    },
    "residentialStatus" : "string",
    "currentAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "firstPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "secondPreviousAddress" : {
      "houseName" : "string",
      "houseNumber" : "string",
      "postCode" : "string",
      "streetName" : "string",
      "district" : "string",
      "town" : "string",
      "county" : "string",
      "timeAtAddress" : 0,
      "isManualEntry" : true
    },
    "basicEmployment" : {
      "employmentStatus" : "string",
      "grossAnnualHouseholdIncome" : 0
    }
  },
  "apply" : {
    "extendedPersonalDetails" : {
      "emailAddress" : "string",
      "telephone" : "string",
      "alternativeTelephone" : "string",
      "maritialStatus" : "string",
      "numberOfDependants" : 0
    },
    "bank" : {
      "accountNumber" : "string",
      "sortCode" : "string",
      "yearsAtBank" : 0
    },
    "extendedEmployment" : {
      "occupation" : "string",
      "employerName" : "string",
      "employerAddress" : {
        "houseName" : "string",
        "houseNumber" : "32",
        "postCode" : "GU25 4EZ",
        "district" : "string",
        "county" : "Surrey",
        "isManualEntry" : true
      },
      "employedYears" : 0,
      "personalIncome" : 0
    }
  },
  "uru" : {
    "card" : {
      "cardholderName" : "string",
      "cardType" : "string",
      "cardNumber" : "string",
      "expiryDate" : "string",
      "cardSecurityCode" : "string"
    },
    "proofOfIdentity" : {
      "category" : "string"
    }
  },
  "marketingSettings" : {
    "sms" : true,
    "email" : true,
    "thirdParty" : true
  },
  "configuration" : {
    "creditLimitNewPlan" : {
      "min" : 0,
      "max" : 0
    },
    "creditLimitRepeatSpend" : {
      "min" : 0,
      "max" : 0
    }
  },
  "creditProducts" : [ {
    "deferredPaymentProduct" : true,
    "apr" : 0,
    "maxTerm" : 0,
    "minTerm" : 0,
    "offerMonths" : 0,
    "creditProductCode" : "string",
    "monthlyRate" : 0.0,
    "minDepositRate" : 0.0
  } ]
}
----


====== Response 400
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 401
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 403
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----


====== Response 500
[source,json]
----
{
  "errorResponseId" : "de305d54-75b4-431b-adb2-eb6b9e546013",
  "errors" : [ {
    "code" : "javax.validation.constraints.Size",
    "message" : "invalid length",
    "property" : "accounts[0].accountHolder.name",
    "invalidValue" : "67",
    "attributes" : "object",
    "exception" : {
      "category" : "string",
      "type" : "javax.validation.ConstraintViolationException",
      "message" : "ServiceLink PLC transaction to acquire APR returned unsuccessful result code",
      "stackTrace" : "Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"
    }
  } ]
}
----




[[_definitions]]
== Definitions

[[_address]]
=== Address
Contains a British address. Either houseName or houseNumber is required


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*county* +
_required_|*Maximal length* : `28`*Example* : `"Surrey"`|string
|*district* +
_required_|*Maximal length* : `28`*Example* : `"string"`|string
|*houseName* +
_optional_|*Maximal length* : `100`*Example* : `"string"`|string
|*houseNumber* +
_optional_|*Maximal length* : `10`*Example* : `"32"`|string
|*isManualEntry* +
_required_|*Example* : `true`|boolean
|*postCode* +
_required_|*Maximal length* : `8`*Example* : `"GU25 4EZ"`|string
|===


[[_addressmatch]]
=== AddressMatch

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*address* +
_required_|*Example* : `"<<_address>>"`|<<_address,Address>>
|*hasAddressMatch* +
_required_|*Example* : `true`|boolean
|*partialAddresses* +
_required_|Array Of Address Summary +
*Example* : `[ "string" ]`|< string > array
|===


[[_addresssearch]]
=== AddressSearch

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*addressLines* +
_required_|Array Of Address line values, excluding postcode +
*Example* : `[ "string" ]`|< string > array
|*postCode* +
_required_|*Example* : `"string"`|string
|===


[[_apply]]
=== Apply

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*bank* +
_required_|*Example* : `"<<_bank>>"`|<<_bank,Bank>>
|*extendedEmployment* +
_required_|*Example* : `"<<_extendedemployment>>"`|<<_extendedemployment,ExtendedEmployment>>
|*extendedPersonalDetails* +
_required_|*Example* : `"<<_extendedpersonaldetails>>"`|<<_extendedpersonaldetails,ExtendedPersonalDetails>>
|===


[[_bank]]
=== Bank

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*accountNumber* +
_required_|*Maximal length* : `8`*Example* : `"string"`|string
|*sortCode* +
_required_|*Maximal length* : `8`*Example* : `"string"`|string
|*yearsAtBank* +
_required_|*Example* : `0`|integer(int32)
|===


[[_basicemployment]]
=== BasicEmployment

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*employmentStatus* +
_required_|*Example* : `"string"`|enum (Full Time, Part Time, Self Employed, Retired, Home Maker, Disability Allowance, Student, Unemployed)
|*grossAnnualHouseholdIncome* +
_required_|*Example* : `0`|integer(int32)
|===


[[_basicpersonaldetails]]
=== BasicPersonalDetails

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*dateOfBirth* +
_required_|*Example* : `"string"`|string(date)
|*forename* +
_required_|*Maximal length* : `25`*Example* : `"string"`|string
|*surname* +
_required_|*Maximal length* : `30`*Example* : `"string"`|string
|*title* +
_required_|*Example* : `"string"`|enum (Mr, Mrs, Miss, Ms, Dr, Rev, Other)
|===


[[_basket]]
=== Basket

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*basketName* +
_required_|*Maximal length* : `100`*Example* : `"string"`|string
|*products* +
_optional_|*Example* : `[ "<<_product>>" ]`|< <<_product,Product>> > array
|===


[[_card]]
=== Card

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*cardNumber* +
_required_|*Maximal length* : `19`*Example* : `"string"`|string
|*cardSecurityCode* +
_required_|*Maximal length* : `5`*Example* : `"string"`|string
|*cardType* +
_required_|*Example* : `"string"`|enum (Visa Credit, Visa Debit, MasterCard, Solo, Visa Electron, MasterCard Debit, American Express, Maestro)
|*cardholderName* +
_required_|*Maximal length* : `30`*Example* : `"string"`|string
|*expiryDate* +
_required_|*Maximal length* : `7`*Example* : `"string"`|string
|===


[[_configuration]]
=== Configuration
Contains all the configuration settings for apply. Will only be used on apply startup, changing these settings halfway through apply will not have any effect.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*creditLimitNewPlan* +
_optional_|The minimum and maximum value for the requested credit in cents in the case of a new application. Excluding the deposit. +
*Example* : `"<<_range>>"`|<<_range,Range>>
|*creditLimitRepeatSpend* +
_optional_|Theminimum and maximum value for the requested credit in cents in the case of a repeat spend. Excluding the deposit. The maximum is equal to credit limit - outstanding credit. +
*Example* : `"<<_range>>"`|<<_range,Range>>
|===


[[_continuelater]]
=== ContinueLater
Either emailAddress or telehone is required.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*code* +
_optional_|*Maximal length* : `6`*Example* : `"string"`|string
|*emailAddress* +
_optional_|*Maximal length* : `60`*Example* : `"string"`|string
|*telephone* +
_optional_|*Maximal length* : `13`*Example* : `"string"`|string
|===


[[_creditproduct]]
=== CreditProduct
Contains all the configuration settings for apply. Will only be used on apply startup, changing these settings halfway through apply will not have any effect.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*apr* +
_optional_|The APR precentage x 100, so the value 1990 means 19.90% +
*Example* : `0`|integer(int32)
|*creditProductCode* +
_optional_|The unique product code to identify the product. +
*Example* : `"string"`|string
|*deferredPaymentProduct* +
_optional_|Indication whether the product is a deferred payment product. +
*Example* : `true`|boolean
|*maxTerm* +
_optional_|The maximum term for the product. It will be used for the slider range. +
*Example* : `0`|integer(int32)
|*minDepositRate* +
_optional_|The minimum required deposit expressed as a rate calculated based on the totalCashPrice in floating point notation. For example 10.5 means a required minimum deposit of 10.5% of the totalCashPrice. +
*Example* : `0.0`|number(float)
|*minTerm* +
_optional_|The minimum term for the product. It will be used for the slider range. +
*Example* : `0`|integer(int32)
|*monthlyRate* +
_optional_|The monthly rate (calculated based on the APR) in floating point notation. For example 0.015238936 +
*Example* : `0.0`|number(float)
|*offerMonths* +
_optional_|The number of months which will be used in case of deferred payment. One product should have 0 value. +
*Example* : `0`|integer(int32)
|===


[[_customermatch]]
=== CustomerMatch

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*address* +
_required_|A formatted string containing the full address. It will be rendered as is. +
*Example* : `"string"`|string
|*dateOfBirth* +
_required_|A formatted string containing the birthdate. It will be rendered as is. +
*Example* : `"string"`|string
|*fullName* +
_required_|A formatted string containing the full name. It will be rendered as is. +
*Example* : `"string"`|string
|*id* +
_required_|unique identifier for this match. +
*Example* : `"string"`|string
|===


[[_eligibility]]
=== Eligibility

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*basicEmployment* +
_required_|*Example* : `"<<_basicemployment>>"`|<<_basicemployment,BasicEmployment>>
|*basicPersonalDetails* +
_required_|*Example* : `"<<_basicpersonaldetails>>"`|<<_basicpersonaldetails,BasicPersonalDetails>>
|*currentAddress* +
_required_|*Example* : `"<<_privateaddress>>"`|<<_privateaddress,PrivateAddress>>
|*firstPreviousAddress* +
_optional_|*Example* : `"<<_privateaddress>>"`|<<_privateaddress,PrivateAddress>>
|*residentialStatus* +
_required_|*Example* : `"string"`|enum (Owner, Tenant Furnished, Tenant Unfurnished, Living With Parent)
|*secondPreviousAddress* +
_optional_|*Example* : `"<<_privateaddress>>"`|<<_privateaddress,PrivateAddress>>
|===


[[_error]]
=== Error

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*errorResponseId* +
_optional_|An optional unique id (UUID) which can be used for finding exceptions back in the log file on the server +
*Maximal length* : `100` +
*Example* : `"de305d54-75b4-431b-adb2-eb6b9e546013"`|string
|*errors* +
_required_|List of all the errors that occurred +
*Example* : `[ "<<_erroritem>>" ]`|< <<_erroritem,ErrorItem>> > array
|===


[[_errorexception]]
=== ErrorException
The server side technical exception details meant for debugging, not for presentation to the user. It should only be include in the dev environment


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*category* +
_required_|See http://docs.oracle.com/javaee/6/tutorial/doc/bnbpj.html +
*Example* : `"string"`|enum (system, application)
|*message* +
_required_|The server exception message +
*Example* : `"ServiceLink PLC transaction to acquire APR returned unsuccessful result code"`|string
|*stackTrace* +
_required_|The server stack trace. +
*Example* : `"Exception in thread \"main\" java.lang.NullPointerException \\n at com.example.myproject.Book.getTitle(Book.java:16) \\n at com.example.myproject.Author.getBookTitles(Author.java:25) \\n at com.example.myproject.Bootstrap.main(Bootstrap.java:14)"`|string
|*type* +
_required_|The exception type of the server exception +
*Example* : `"javax.validation.ConstraintViolationException"`|string
|===


[[_erroritem]]
=== ErrorItem

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*attributes* +
_optional_|Key/value pairs that give additional information of the error that occurred. It can be used to fill in the placeholders of the translation in the language pack. +
*Example* : `"object"`|object
|*code* +
_required_|A unique code that identifies this error. It can also be used as the translation key in a language pack. +
*Example* : `"javax.validation.constraints.Size"`|string
|*exception* +
_optional_|*Example* : `"<<_errorexception>>"`|<<_errorexception,ErrorException>>
|*invalidValue* +
_optional_|The value of the property that resulted in this error. Most likely a String and it's up to the application to format this as needed. Meant for debugging purposes only as the original values is still available in the client that made the request. +
*Example* : `"67"`|string
|*message* +
_required_|A human readable message for debugging. Ideally not meant for presentation to the end user. +
*Example* : `"invalid length"`|string
|*property* +
_optional_|The name of a property that the client understands and can use to pinpoint the origin of the error. For instance a request parameter or JSON field that was provided in the request. +
*Example* : `"accounts[0].accountHolder.name"`|string
|===


[[_existingplangraphdata]]
=== ExistingPlanGraphData

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*customTitle* +
_required_|*Example* : `"string"`|string
|*futureBalance* +
_required_|*Example* : `[ 0 ]`|< integer(int32) > array
|*monthlyPayments* +
_required_|*Example* : `[ 0 ]`|< integer(int32) > array
|===


[[_existingplans]]
=== ExistingPlans

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*balanceClearDate* +
_required_|*Example* : `"string"`|string(date)
|*graphData* +
_required_|*Example* : `[ "<<_existingplangraphdata>>" ]`|< <<_existingplangraphdata,ExistingPlanGraphData>> > array
|*startDateOfChart* +
_required_|*Example* : `"string"`|string(date)
|*totalBalance* +
_required_|The current outstanding debt when taking all plans into account. +
*Example* : `0`|integer(int32)
|===


[[_extendedemployment]]
=== ExtendedEmployment

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*employedYears* +
_required_|*Example* : `0`|integer(int32)
|*employerAddress* +
_required_|*Example* : `"<<_address>>"`|<<_address,Address>>
|*employerName* +
_required_|*Maximal length* : `60`*Example* : `"string"`|string
|*occupation* +
_required_|*Example* : `"string"`|enum (Agricultural, Civil Service, Clergy, Emergency/Medical Services, Financial/Insurance/Banking, Legal, Manual/Factory Worker, Military, Office Worker, Other Professional/Managerial, Retail, Skilled Tradesmen, Temporary Staff)
|*personalIncome* +
_optional_|*Example* : `0`|integer(int32)
|===


[[_extendedpersonaldetails]]
=== ExtendedPersonalDetails

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*alternativeTelephone* +
_required_|*Maximal length* : `13`*Example* : `"string"`|string
|*emailAddress* +
_required_|*Maximal length* : `60`*Example* : `"string"`|string
|*maritialStatus* +
_required_|*Example* : `"string"`|enum (Married / Civil partnership, Single, Widowed, Divorced)
|*numberOfDependants* +
_required_|*Example* : `0`|integer(int32)
|*telephone* +
_required_|*Maximal length* : `13`*Example* : `"string"`|string
|===


[[_marketingsettings]]
=== MarketingSettings

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*email* +
_required_|*Example* : `true`|boolean
|*sms* +
_required_|*Example* : `true`|boolean
|*thirdParty* +
_required_|*Example* : `true`|boolean
|===


[[_plan]]
=== Plan

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*creditLimit* +
_required_|this field is required in the case of repeat spend and after the review step in the case of a new application. Otherwise it is null +
*Example* : `0`|integer(int32)
|*creditProductCode* +
_required_|The unique product code to identify the product. +
*Example* : `"string"`|string
|*deferredPayment* +
_required_|*Example* : `true`|boolean
|*deposit* +
_required_|*Example* : `0`|integer(int32)
|*monthlyPayment* +
_optional_|Monthly installment amount +
*Example* : `0`|integer(int32)
|*monthlyRate* +
_optional_|The monthly rate (calculated based on the APR) in floating point notation. For example 0.015238936 +
*Example* : `0.0`|number(float)
|*months* +
_required_|*Example* : `0`|integer(int32)
|*planEndDate* +
_optional_|A formatted string containing the plan end date. +
*Example* : `"string"`|string(date)
|*totalCashPrice* +
_required_|*Example* : `0`|integer(int32)
|*totalCredit* +
_optional_|The total amount of credit +
*Example* : `0`|integer(int32)
|===


[[_privateaddress]]
=== PrivateAddress
Contains a British address. Either houseName or houseNumber is required


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*county* +
_required_|*Maximal length* : `28`*Example* : `"string"`|string
|*district* +
_required_|*Maximal length* : `28`*Example* : `"string"`|string
|*houseName* +
_optional_|*Maximal length* : `100`*Example* : `"string"`|string
|*houseNumber* +
_optional_|*Maximal length* : `10`*Example* : `"string"`|string
|*isManualEntry* +
_required_|*Example* : `true`|boolean
|*postCode* +
_required_|*Maximal length* : `8`*Example* : `"string"`|string
|*streetName* +
_required_|*Maximal length* : `28`*Example* : `"string"`|string
|*timeAtAddress* +
_required_|*Example* : `0`|integer(int32)
|*town* +
_required_|*Maximal length* : `20`*Example* : `"string"`|string
|===


[[_product]]
=== Product

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*name* +
_required_|*Maximal length* : `100`*Example* : `"string"`|string
|*price* +
_required_|*Example* : `0`|integer(int32)
|*quantity* +
_required_|*Example* : `0`|integer(int32)
|===


[[_proofofidentity]]
=== ProofOfIdentity

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*category* +
_required_|*Example* : `"string"`|enum (A, B, C, D, H, I, M, P, R, TV, U)
|===


[[_range]]
=== Range
Contains a range definition


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*max* +
_optional_|*Example* : `0`|integer(int32)
|*min* +
_optional_|*Example* : `0`|integer(int32)
|===


[[_review]]
=== Review

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*apply* +
_required_|*Example* : `"<<_apply>>"`|<<_apply,Apply>>
|*deliveryOfGoods* +
_required_|*Example* : `"string"`|enum (Home Delivery, Instore Collection)
|*eligibility* +
_required_|*Example* : `"<<_eligibility>>"`|<<_eligibility,Eligibility>>
|*marketingSettings* +
_required_|*Example* : `"<<_marketingsettings>>"`|<<_marketingsettings,MarketingSettings>>
|*plan* +
_required_|*Example* : `"<<_plan>>"`|<<_plan,Plan>>
|*uru* +
_required_|*Example* : `"<<_uru>>"`|<<_uru,Uru>>
|===


[[_securitycode]]
=== SecurityCode

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*code* +
_required_|*Maximal length* : `6`*Example* : `"string"`|string
|===


[[_sms]]
=== Sms

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*token* +
_required_|*Maximal length* : `60`*Example* : `"string"`|string
|===


[[_state]]
=== State
contains the current state of the application and dictates to the frontend what to do next. Steps that have not been done yet are left out.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*apply* +
_optional_|*Example* : `"<<_apply>>"`|<<_apply,Apply>>
|*authType* +
_required_|The type of login that was used to load this application. The difference between OamSso and OamLogin is that the first login is the SSO based on the SSO cookie and the second is an explicit Login based on a username and password. +
*Example* : `"string"`|enum (none, stage1Token, stage2Token, stage3Token, OamSso, OamLogin)
|*basket* +
_optional_|*Example* : `"<<_basket>>"`|<<_basket,Basket>>
|*configuration* +
_optional_|*Example* : `"<<_configuration>>"`|<<_configuration,Configuration>>
|*creditProducts* +
_optional_|*Example* : `[ "<<_creditproduct>>" ]`|< <<_creditproduct,CreditProduct>> > array
|*currentPage* +
_required_|the page that should be shown next. "redirectToUrl" indicates that the browser must redirect to the URL in "redirectUrl" +
*Example* : `"string"`|enum (redirectToUrl, plan, eligibility, apply, uru, review, approved, done, referred, declined, uruRepeatSpend, smsRepeatSpend, smsCustomerRecognition, declinedCustomerRecognition, securityCode, preApproved)
|*eligibility* +
_optional_|*Example* : `"<<_eligibility>>"`|<<_eligibility,Eligibility>>
|*existingPlans* +
_optional_|*Example* : `"<<_existingplans>>"`|<<_existingplans,ExistingPlans>>
|*isClickAndCollect* +
_required_|*Example* : `true`|boolean
|*isPaymentPending* +
_required_|*Example* : `true`|boolean
|*isRepeatSpend* +
_required_|*Example* : `true`|boolean
|*longContinueLaterTokenNeedsSecurityCode* +
_required_|If true the continueLater POST call must provide a security code. +
*Example* : `true`|boolean
|*marketingSettings* +
_optional_|*Example* : `"<<_marketingsettings>>"`|<<_marketingsettings,MarketingSettings>>
|*matchingCustomers* +
_optional_|*Example* : `[ "<<_customermatch>>" ]`|< <<_customermatch,CustomerMatch>> > array
|*plan* +
_optional_|*Example* : `"<<_plan>>"`|<<_plan,Plan>>
|*redirectUrl* +
_optional_|the URL that needs to be redirected to. Will only be used if "currentPage" is "redirectToUrl" +
*Example* : `"string"`|string
|*shortContinueLaterToken* +
_optional_|The short save and return token that the consumer can later give to the store clerk to continue the application. Optional until /application/continueLater has been called. +
*Example* : `"string"`|string
|*shortContinueLaterTokenAsBarcodeUrl* +
_optional_|A URI that returns an image containing a barcode which represents the shortContinueLaterToken. This is optional, but must have a value if shortContinueLaterToken also has a value. +
*Example* : `"string"`|string
|*uru* +
_optional_|*Example* : `"<<_uru>>"`|<<_uru,Uru>>
|===


[[_uru]]
=== Uru

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|*card* +
_required_|*Example* : `"<<_card>>"`|<<_card,Card>>
|*proofOfIdentity* +
_required_|*Example* : `"<<_proofofidentity>>"`|<<_proofofidentity,ProofOfIdentity>>
|===





